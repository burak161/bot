1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 const Discord = require('discord.js'); const weather = require('weather-js'); exports.run = (client, message, args) => { weather.find({search: args.join(" "), degreeType: 'C'}, function(err, result) { if (err) message.channel.send(err); if (result === undefined || result.length === 0) { message.channel.sendEmbed(new Discord.RichEmbed().setDescription('Lütfen bir yer gir.').setColor('RANDOM')); return; } var current = result[0].current; var location = result[0].location; const embed = new Discord.RichEmbed() .setDescription(`**${current.skytext}**`) .setAuthor(`${current.observationpoint} için hava durumu`) .setThumbnail(current.imageUrl) .setColor(0x00AE86) .addField('Zaman Dilimi',`UTC${location.timezone}`, true) .addField('Derece Türü',location.degreetype, true) .addField('Sıcaklık',`${current.temperature} Derece`, true) .addField('Hava', `${current.feelslike}`, true) .addField('Rüzgar',current.winddisplay, true) .addField('Nem', `${current.humidity}%`, true) message.channel.send({embed}); }) } exports.conf = { enabled: true, guildOnly: false, aliases: ['hava', 'havadurum'], permLevel: "0" }; exports.help = { name: "havadurumu", description: "hava durumunu gösterir", usage: "havadurumu" };
